# Project layout 

## Target

A mono-repo and multi-api maven project

## Objectives

- [x] Better time to market
- [x] Better separation of concerns
- [x] Improved development experience
   - [x] Better reasoning (feature) logic reasoning
   - [x] Simplified code review
   - [x] Straightforward Merge, cherry pick
   - [x] Reduced scope of Integration Tests
   - [x] A simpler revert to a certain API version
   - [x] Simple investigation (just disable an API and run the reproducible steps)
- [x] Release
    - [x] Some issues in one API could be reverted/or eliminated altogether in case of:
        - [x] last minute PT issues
        - [x] performance issues observed too late

## Current situation

- [x] (pm) `parent`
    - [x] (jm) `app`        -> all is in here (common, apione, apitwo and all tests/IT)
    - [x] (jm) `perf`       -> performance tests (gatling)
    - [x] (f) `companion`
        - [x] (f) `swagger`
        - [x] (f) `dockers`
        - [x] (f) `postman collections`
        - [x] (f) `(wire)mocks`
    - [x] (pm) `conf`
        - maven `assembly` plugin         -> create archives
        - ADO pipeline configuration

## Proposal 1 (my preferred one)

- [x] (pm) `multi_api_name`
    - [x] (jm) `app`       
                        1) It is the bootstrapper of the application. It contains the `@SpringBootApplication` bootstrap. 
                        2) It decides what modules to include in the final app. 
                        3) The fatjar will be generated by this module. 
    - [x] (jm) `common`             
                        1) Common spring ctx slice (e.g.: Kafka, Cassandra conf)
    - [x] (jm) `apione`
    - [x] (jm) `apitwo`
    - [x] (pm) `apithree`
        - [x] (jm) `apithree-spec`  
                        - expose an `internal api` (`spec`) 
        - [x] (jm) `apithree-web`   
                        - expose an `external (web) api`
    - [x] (jm) `perf`               
                        - performance tests (gatling)
    - [x] (jm) `e2e`                
                        - e2e tests (cucumber)
    - [x] (f) `companion`
        - [x] (f) `swagger`
        - [x] (f) `dockers`
        - [x] (f) `postman collections`
        - [x] (f) `(wire)mocks`
        - [x] (f) `cassandra` 
                        - contains the CQL files
    - [x] (pm) `conf`
                        1) maven assembly plugin. Creates the deliverables (archives).
                        2) ADO pipeline configuration.

## Proposal 2 

__Notes:__ 
  - This proposal is outdated because the focus switched on the proposal 1.

- [x] (pm) `multi_api_name`
    - [x] (jm) `app` - contains the springboot application entrypoint (bootstrap)
    - [x] (jm) `common`
    - [x] (pm) `apitwo`
        - [x] (jm) `app`
        - [x] (jm) `perf`
        - [x] (jm) `e2`
    - [x] (pm) `apione`
        - [x] (jm) `app`
        - [x] (jm) `perf`
        - [x] (jm) `e2e`
    - [x] (f) `companion`
        - [x] (f) `swagger`
        - [x] (f) `dockers`
        - [x] (f) `postman collections`
        - [x] (f) `(wire)mocks`
    - [x] (m) `conf`
        - maven assembly plugin -> create archives
        - ADO pipeline configuration
             
## Legend: 
- (pm)      -> pom maven module
- (jm)      -> jar module
- (f)       -> folder
